name: "Find Docker Image Cache Name"
description: "Determines the cache name for Docker images based on PR or main branch."
outputs:
  result:
    description: "Cache name for Docker image"
    value: ${{ steps.get-docker-image-cache-name.outputs.result }}
runs:
  using: "composite"
  steps:
    - name: Find docker image cache
      id: get-docker-image-cache-name
      uses: actions/github-script@ed597411d8f924073f98dfc5c65a23a2325f34cd # v8.0.0
      with:
        result-encoding: string
        script: |
          const script = require('.github/actions/find-docker-image-cache/script.js')
          const result = await script({github, context});
          console.log(`Found cache: ${result}`);
          return result;
